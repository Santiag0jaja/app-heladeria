<div class="pedido-container">
  <h2>Hacer un Pedido</h2>
  <form [formGroup]="pedidoForm" (ngSubmit)="onSubmit()">

    <div>
      <label>Nombre del cliente:</label>
      <input type="text" formControlName="cliente" />
    </div>

    <div>
      <label>Sabor:</label>
      <select formControlName="sabor">
        <option [ngValue]="null">Selecciona un sabor</option>
        <option *ngFor="let sabor of sabores" [ngValue]="sabor">
          {{ sabor.nombre }} - ${{ sabor.precio }}
        </option>
      </select>
    </div>

    <div>
      <label>Toppings:</label>
      <div *ngFor="let topping of toppings">
        <input 
          type="checkbox"
          [id]="'topping' + topping.id"
          [value]="topping.id"
          (change)="onToppingChange($event, topping.id)"
        >
        <label [for]="'topping' + topping.id">{{ topping.nombre }} - ${{ topping.precio }}</label>
      </div>
    </div>

    <div>
      <label>Cantidad:</label>
      <input type="number" formControlName="cantidad" min="1">
    </div>

    <div>
      <label>Notas:</label>
      <textarea formControlName="notas"></textarea>
    </div>

    <div>
      <strong>Total:</strong> ${{ calcularTotal() | number:'1.0-0' }}
    </div>

    <button type="submit" [disabled]="pedidoForm.invalid">Confirmar Pedido</button>
  </form>
</div>

<!-- This component allows users to place ice cream orders.
     It uses a reactive form to capture order details, including the customer, flavor, toppings, quantity, and notes.
     The total price is calculated based on the selected flavor and toppings. -->